<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
               "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
                <!ENTITY % darktable_dtd SYSTEM "../../dtd/darktable.dtd">
                %darktable_dtd;
                ]>
<sect2 status="final" id="tagging">

  <title>Tagging</title>

  <indexterm>
    <primary>lighttable panels</primary>
    <secondary>tagging</secondary>
  </indexterm>

  <indexterm>
    <primary>tags</primary>
  </indexterm>

  <informaltable frame="none">
    <tgroup cols="2" colsep="0" rowsep="0">
      <colspec colwidth="6*"/>
      <colspec colwidth="4*"/>
      <tbody>
        <row>
          <entry>
            <para>
              This panel is for managing tags on images. Tags are stored in both sidecar files
              (.xmp) and within the darktable database for a faster access. The panel is divided
              into two parts: the upper part contains the tag(s) currently attached to the image
              under the cursor or the selected image(s) if the mouse is outside the lighttable.
              The lower part contains a list of all available tags in the database, the dictionary, which can be
              filtered in the text box above.
            </para>
            <para>
              The list of available tags can be displayed in three different manners:
              <itemizedlist>

                <listitem><para>
                  A flat list of tags
                </para></listitem>

                <listitem><para>
                  A tree view useful for hierarchical tags
                </para></listitem>

                <listitem><para>
                  A list of suggestions based on already attached tags on selected images.
                </para></listitem>

              </itemizedlist>
            </para>
            <para>
              All views have the following characteristics;
              <itemizedlist>

                <listitem><para>
                  On the left there is an indicator giving a status of the tag in relation with the selected images.
                  A <quote>check-mark</quote> means that the tag is attached on all selected images.
                  A <quote>minus</quote> means that the tag is attached at least on one selected image.
                  On tree view, on the parent node, it means that at least one child tag is attached one
                  a selected image.
                </para></listitem>

                <listitem><para>
                  On the right the count of images attached to the tag in the database (dictionary view) or
                  of selected images (attached view)
                </para></listitem>

                <listitem><para>
                  A tag <italic>italic</italic> is considered as a category. A category is a tag which helps
                  to organize the tags but doesn't bring information to the image. A category is not exported.
                </para></listitem>

              </itemizedlist>
            </para>
          </entry>
          <entry>
            <graphic fileref="lighttable/images/panel_tagging-1.png" scalefit="1" width="80%" align="center" />
          </entry>
        </row>
      </tbody>
    </tgroup>
  </informaltable>

  <para>
    New tags get added to the list in different ways.
    <itemizedlist>

      <listitem><para>
        on import of a text file (lightroom compatible format)
      </para></listitem>

      <listitem><para>
        on import of already tagged images
      </para></listitem>

      <listitem><para>
        in sub menu <quote>create tag</quote>
      </para></listitem>

      <listitem><para>
        if an automatically generated tag gets attached to an image (see dartable tags)
      </para></listitem>

      <listitem><para>
        by typing into the text box and pressing the <quote>new</quote> button. Hierarchical
        tags are created using the pipe symbol <quote>|</quote>.
      </para></listitem>

    </itemizedlist>

  </para>

  <para>
    The goal of tags is to add information to the images within a given keywordset.
    But when the number of tags becomes large it is interesting to organize them as a tree.
    The parent tags may not add information to the image. For example the tag <quote>color</quote>
    in <quote>color|white</quote>. In this case <quote>color</quote> will automatically
    seen as <quote>category</quote> when it is not in the dictionary itself, or otherwize, it can be set
    explicitly as a <quote>category</quote> (see create or edit command).
  </para>

  <para>
    A tag can also be set as <quote>private</quote> when it be not always exported.
  </para>

  <para>
    Synonyms can be added to a tag. For example <quote>juvenile</quote>, <quote>kid</quote> or <quote>youth</quote>
    can be set as synonyms of <quote>child</quote>.
  </para>

  <para>
    As you may notice there are automatically created tags like <quote>darktable|
    exported</quote> or <quote>darktable|styles|your style</quote>, which keep track of your
    actions and let you easily find already exported images or images with specific styles
    applied.
  </para>

  <para>
    <emphasis> Tip: ctrl-t opens a small text box at the bottom of the central view for quickly
    tagging your selected images by typing a tag phrase and hitting return. </emphasis>
  </para>

  <sect3 id="tagging_usage">

    <title>Usage</title>

    <sect4 id="tagging_usage_attach">

      <para>
        <graphic fileref="lighttable/images/panel_tagging_attached-1.png" scalefit="1" width="60%" align="center"></graphic>
      </para>


      <title>attach</title>

      <para>
        Attach the selected tag from the list below to all selected images.
      </para>

    </sect4>

    <sect4 id="tagging_usage_detach">

      <title>detach</title>

      <para>
        Detach the selected tag from all selected images. This also can be done by double
        clicking the specific tag.
      </para>

    </sect4>

    <sect4 id="tagging_usage_new">

      <title>new</title>

      <para>
        Create a new tag for the list.
      </para>

    </sect4>

    <sect4 id="tagging_usage_delete">

      <title>delete</title>

      <para>
        Delete a tag from the list and from all images. A warning will be displayed on how many
        images have this tag attached. Take this warning seriously as there is no way to recover
        or later find the affected images.
      </para>

    </sect4>

  </sect3>

</sect2>
